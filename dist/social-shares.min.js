/*! social-shares 2015-12-09 */
if("undefined"==typeof jQuery)throw new Error("Social Shares requires jQuery");!function(a){"use strict";a.fn.socialShares=function(b){var c=this;c.settings=a.extend({url:void 0,title:"",description:"",counts:!1,networks:{facebook:!0,twitter:!0,googleplus:!0,pinterest:!0,reddit:!0,linkedin:!0},popup:{status:!1,resizable:!0,toolbar:!1,menubar:!1,scrollbars:!1,location:!1,directories:!1,width:626,height:436,top:0,left:0},facebookSharer:"https://www.facebook.com/sharer/sharer.php?u=@url&summary=@title",facebookStats:"https://api.facebook.com/method/links.getStats?urls=@url&format=json",facebookClass:".facebook",twitterUser:"",twitterSharer:"https://twitter.com/intent/tweet?url=@url&via=@twitteruser",twitterClass:".twitter",googleplusSharer:"https://plus.google.com/share?url=@url",googleplusStats:"https://plusone.google.com/_/+1/fastbutton?url=@url",googleplusClass:".googleplus",googleplusKey:void 0,pinterestSharer:"https://pinterest.com/pin/create/button/?url=@url&description=@title",pinterestClass:".pinterest",redditSharer:"http://www.reddit.com/submit?url=@url&title=@title",redditClass:".reddit",linkedinSharer:"https://www.linkedin.com/shareArticle?mini=true&url=@url&title=@title&summary=@description",linkedinClass:".linkedin",complete:void 0},b),c.buffer={popup:void 0},c.init=function(){void 0==c.settings.url&&(c.settings.url=window.location.href),void 0!=a(c).data("googleapikey")&&(c.settings.googleplusKey=a(c).data("googleapikey"),a(c).removeAttr("data-googleapikey")),c.settings.popup.left=window.screen.width/2-(c.settings.popup.width/2+10),c.settings.popup.top=window.screen.height/2-(c.settings.popup.height/2+50),c.parse(),void 0!=c.settings.complete&&c.settings.complete(),a(c).addClass("sharer-activated")},c.parse=function(){a.each(c.settings.networks,function(b){if(this){var d=a(c).find(c.settings[b+"Class"]);d.length>0&&(c.createSharer(a(d),b),c.getCount(a(d),b))}})},c.createSharer=function(b,d){if(void 0!=c.settings.url){var e=c.settings[d+"Sharer"].replace(/\@url/g,c.settings.url).replace(/\@title/g,c.settings.title).replace(/\@description/g,c.settings.description).replace(/\@twitterUser/g,c.settings.twitterUser);b.find("a").length>0?b=a(b.find("a")[0]):b.find("button").length>0&&(b=a(b.find("button")[0])),b.attr("href",e),b.attr("action",e),b.click(c.openSharer)}},c.getCount=function(a,b){if(!c.settings.counts)return 0;switch(b){case"facebook":return c.getFacebookCount(a,b)}return c.echoCount(a,b,0)},c.getFacebookCount=function(b,d){a.ajax({url:c.settings.facebookStats.replace(/\@url/g,c.settings.url),method:"GET",dataType:"jsonp",crossDomain:!0,headers:{"Access-Control-Allow-Origin":"*"},success:function(a){void 0!=a.error?console.log(a.error):c.echoCount(b,d,a.length>0?parseInt(a[0].share_count):0)},error:function(a){console.log(a)}})},c.echoCount=function(b,d,e){c.settings.counts&&(void 0==e||0==e?(b.addClass("no-count"),e=0):b.addClass("has-count"),a.each(b[0].attributes,function(a,c){b.attr(c.name,c.value.replace(/\{count\}/g,e))}),b.html(b.html().replace(/\{count\}/g,e)))},c.openSharer=function(b){b.preventDefault(),c.buffer.popup=window.open(a(this).attr("action"),"sharer","status="+(c.settings.popup.status?"yes":"no")+",height="+c.settings.popup.height+",width="+c.settings.popup.width+",resizable="+(c.settings.popup.resizable?"yes":"no")+",left="+c.settings.popup.left+",top="+c.settings.popup.top+",screenX="+c.settings.popup.left+",screenY="+c.settings.popup.top+",toolbar="+(c.settings.popup.toolbar?"yes":"no")+",menubar="+(c.settings.popup.menubar?"yes":"no")+",scrollbars="+(c.settings.popup.scrollbars?"yes":"no")+",location="+(c.settings.popup.location?"yes":"no")+",directories="+(c.settings.popup.directories?"yes":"no"))},c.init()}}(jQuery);